<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Apache Flink 1.12 Documentation: Catalogs</title>
    <link rel="shortcut icon" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/favicon.ico" type="image/x-icon">
    <link rel="icon" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="//ci.apache.org/projects/flink/flink-docs-stable/zh/dev/table/catalogs.html">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/flink.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/syntax.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/codetabs.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/font-awesome/css/font-awesome.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    

    <!-- Main content. -->
    <div class="container">
      
      <div class="row">
        <div class="col-lg-3" id="sidenavcol">
          <div class="sidenav-logo">
  <p><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/"><img class="bottom" alt="Apache Flink" src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/img/navbar-brand-logo.jpg"></a> v1.12</p>
</div>
<ul id="sidenav">
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/"><i class="fa fa-home title" aria-hidden="true"></i> Home</a></li><hr class="section-break"></hr>
<li><a href="#collapse-2" data-toggle="collapse"><i class="fa fa-rocket title appetizer" aria-hidden="true"></i> Try Flink<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-2"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/local_installation.html">本地模式安装</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/datastream_api.html">基于 DataStream API 实现欺诈检测</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/table_api.html">基于 Table API 实现实时报表</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/flink-operations-playground.html">Flink 操作场景</a></li>
</ul></div></li>
<li><a href="#collapse-8" data-toggle="collapse"><i class="fa fa-hand-paper-o title appetizer" aria-hidden="true"></i> 实践练习<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-8"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/datastream_api.html">DataStream API 简介</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/etl.html">数据管道 & ETL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/streaming_analytics.html">流式分析</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/event_driven.html">事件驱动应用</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/fault_tolerance.html">容错处理</a></li>
</ul></div></li>
<li><a href="#collapse-15" data-toggle="collapse"><i class="fa fa-map-o title appetizer" aria-hidden="true"></i> 概念透析<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-15"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/index.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/stateful-stream-processing.html">有状态流处理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/timely-stream-processing.html">及时流处理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/flink-architecture.html">Flink 架构</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/glossary.html">词汇表</a></li>
</ul></div></li><hr class="section-break"></hr>
<li><a href="#collapse-21" data-toggle="collapse"class="active"><i class="fa fa-code title maindish" aria-hidden="true"></i> 应用开发</a><div class="collapse in" id="collapse-21"><ul>
<li><a href="#collapse-22" data-toggle="collapse">DataStream API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-22"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/datastream_api.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/datastream_execution_mode.html">Execution Mode (Batch/Streaming)</a></li>
<li><a href="#collapse-24" data-toggle="collapse">事件时间<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-24"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_time.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_timestamps_watermarks.html">生成 Watermark</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_timestamp_extractors.html">内置 Watermark 生成器</a></li>
</ul></div></li>
<li><a href="#collapse-28" data-toggle="collapse">状态与容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-28"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/state.html">Working with State</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/broadcast_state.html">Broadcast State 模式</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/checkpointing.html">Checkpointing</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/queryable_state.html">Queryable State</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/state_backends.html">State Backends</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/schema_evolution.html">状态数据结构升级</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/custom_serialization.html">自定义状态序列化</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/user_defined_functions.html">用户自定义 Functions</a></li>
<li><a href="#collapse-38" data-toggle="collapse">算子<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-38"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/windows.html">窗口</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/joining.html">Joining</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/process_function.html">Process Function</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/asyncio.html">异步 I/O</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/sources.html">Data Sources</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/side_output.html">旁路输出</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/application_parameters.html">Handling Application Parameters</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/testing.html">测试</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/experimental.html">实验功能</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/scala_api_extensions.html">Scala API Extensions</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/java_lambdas.html">Java Lambda 表达式</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/project-configuration.html">Project Configuration</a></li>
</ul></div></li>
<li><a href="#collapse-53" data-toggle="collapse">DataSet API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-53"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/dataset_transformations.html">Transformations</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/iterations.html">迭代</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/zip_elements_guide.html">Zipping Elements</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/hadoop_compatibility.html">Hadoop 兼容</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/local_execution.html">本地执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/cluster_execution.html">集群执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/examples.html">Batch 示例</a></li>
</ul></div></li>
<li><a href="#collapse-62" data-toggle="collapse"class="active">Table API & SQL</a><div class="collapse in" id="collapse-62"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/common.html">概念与通用 API</a></li>
<li><a href="#collapse-64" data-toggle="collapse">流式概念<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-64"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/dynamic_tables.html">动态表 (Dynamic Table)</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/time_attributes.html">时间属性</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/joins.html">流上的 Join</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/temporal_tables.html">时态表（Temporal Tables）</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/match_recognize.html">模式检测</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/query_configuration.html">Query Configuration</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/tableApi.html">Table API</a></li>
<li><a href="#collapse-74" data-toggle="collapse">SQL<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-74"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/queries.html">查询语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/create.html">CREATE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/drop.html">DROP 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/alter.html">ALTER 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/insert.html">INSERT 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/hints.html">SQL Hints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/describe.html">DESCRIBE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/explain.html">EXPLAIN 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/use.html">USE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/show.html">SHOW 语句</a></li>
</ul></div></li>
<li><a href="#collapse-86" data-toggle="collapse">函数<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-86"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/systemFunctions.html">系统（内置）函数</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/udfs.html">自定义函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/modules.html">模块</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/catalogs.html" class="active">Catalogs</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sqlClient.html">SQL 客户端</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/config.html">配置</a></li>
<li><a href="#collapse-94" data-toggle="collapse">Performance Tuning<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-94"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/tuning/streaming_aggregation_optimization.html">流式聚合</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sourceSinks.html">User-defined Sources & Sinks</a></li>
</ul></div></li>
<li><a href="#collapse-99" data-toggle="collapse">Python API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-99"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/installation.html">环境安装</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table_api_tutorial.html">Table API 教程</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream_tutorial.html">DataStream API 教程</a></li>
<li><a href="#collapse-103" data-toggle="collapse">Table API用户指南<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-103"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/intro_to_table_api.html">Python Table API 简介</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/table_environment.html">TableEnvironment</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/operations.html">Operations</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/python_types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/built_in_functions.html">系统（内置）函数</a></li>
<li><a href="#collapse-109" data-toggle="collapse">自定义函数<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-109"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/udfs/python_udfs.html">普通自定义函数（UDF）</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/udfs/vectorized_python_udfs.html">向量化自定义函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/conversion_of_pandas.html">PyFlink Table 和 Pandas DataFrame 互转</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/dependency_management.html">依赖管理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/sql.html">SQL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/catalogs.html">Catalogs</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/metrics.html">指标</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/python_table_api_connectors.html">连接器</a></li>
</ul></div></li>
<li><a href="#collapse-120" data-toggle="collapse">DataStream API用户指南<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-120"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/data_types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/operators.html">算子</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/dependency_management.html">依赖管理</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/python_config.html">配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/environment_variables.html">环境变量</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/faq.html">常见问题</a></li>
</ul></div></li>
<li><a href="#collapse-129" data-toggle="collapse">数据类型以及序列化<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-129"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/types_serialization.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/custom_serializers.html">自定义序列化器</a></li>
</ul></div></li>
<li><a href="#collapse-132" data-toggle="collapse">管理执行<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-132"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/execution_configuration.html">执行配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/packaging.html">程序打包</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/parallel.html">并行执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/execution_plans.html">执行计划</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/task_failure_recovery.html">Task 故障恢复</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/migration.html">API 迁移指南</a></li>
</ul></div></li>
<li><a href="#collapse-141" data-toggle="collapse"><i class="fa fa-book title maindish" aria-hidden="true"></i> Libraries<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-141"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/cep.html">事件处理 (CEP)</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/state_processor_api.html">State Processor API</a></li>
<li><a href="#collapse-144" data-toggle="collapse">图计算: Gelly<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-144"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_api.html">Graph API</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/iterative_graph_processing.html">Iterative Graph Processing</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/library_methods.html">Library Methods</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_algorithms.html">Graph Algorithms</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_generators.html">Graph Generators</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/bipartite_graph.html">Bipartite Graph</a></li>
</ul></div></li>
</ul></div></li>
<li><a href="#collapse-153" data-toggle="collapse"><i class="fa fa-random title maindish" aria-hidden="true"></i> Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-153"><ul>
<li><a href="#collapse-154" data-toggle="collapse">DataStream Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-154"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/guarantees.html">容错保证</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/kafka.html">Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/cassandra.html">Cassandra</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/kinesis.html">Kinesis</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/elasticsearch.html">Elasticsearch</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/file_sink.html">File Sink</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/streamfile_sink.html">Streaming File Sink</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/rabbitmq.html">RabbitMQ</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/nifi.html">NiFi</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/pubsub.html">Google Cloud PubSub</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/twitter.html">Twitter</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/jdbc.html">JDBC</a></li>
</ul></div></li>
<li><a href="#collapse-168" data-toggle="collapse">Table & SQL Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-168"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/">概览</a></li>
<li><a href="#collapse-169" data-toggle="collapse">Formats<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-169"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/csv.html">CSV</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/json.html">JSON</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/avro-confluent.html">Confluent Avro</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/avro.html">Avro</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/debezium.html">Debezium</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/canal.html">Canal</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/maxwell.html">Maxwell</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/parquet.html">Parquet</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/orc.html">Orc</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/raw.html">Raw</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/kafka.html">Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/upsert-kafka.html">Upsert Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/kinesis.html">Kinesis</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/jdbc.html">JDBC</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/elasticsearch.html">Elasticsearch</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/filesystem.html">FileSystem</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hbase.html">HBase</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/datagen.html">DataGen</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/print.html">Print</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/blackhole.html">BlackHole</a></li>
<li><a href="#collapse-191" data-toggle="collapse">Hive<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-191"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_catalog.html">Hive Catalog</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_dialect.html">Hive 方言</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_read_write.html">Hive Read & Write</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_functions.html">Hive 函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/downloads.html">下载</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/connectors.html">DataSet Connectors</a></li>
</ul></div></li>
<li><a href="#collapse-201" data-toggle="collapse"><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-201"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/">概览</a></li>
<li><a href="#collapse-202" data-toggle="collapse">Resource Providers<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-202"><ul>
<li><a href="#collapse-203" data-toggle="collapse">Standalone<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-203"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/local.html">本地集群</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/docker.html">Docker</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/kubernetes.html">Kubernetes</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/native_kubernetes.html">Native Kubernetes</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/yarn.html">YARN</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/mesos.html">Mesos</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/config.html">配置参数</a></li>
<li><a href="#collapse-213" data-toggle="collapse">内存配置<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-213"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup.html">配置 Flink 进程的内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup_tm.html">配置 TaskManager 内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup_jobmanager.html">配置 JobManager 内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_tuning.html">调优指南</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_trouble.html">常见问题</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_migration.html">升级指南</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/cli.html">Command-Line Interface</a></li>
<li><a href="#collapse-222" data-toggle="collapse">文件系统<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-222"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/common.html">通用配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/s3.html">Amazon S3</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/oss.html">阿里云 OSS</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/azure.html">Azure Blob 存储</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/plugins.html">Plugins</a></li>
</ul></div></li>
<li><a href="#collapse-229" data-toggle="collapse">High Availability (HA)<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-229"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/zookeeper_ha.html">ZooKeeper HA Services</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/kubernetes_ha.html">Kubernetes HA Services</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/metric_reporters.html">Metric Reporters</a></li>
<li><a href="#collapse-234" data-toggle="collapse">Security<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-234"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/security/security-ssl.html">SSL 设置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/security/security-kerberos.html">Kerberos</a></li>
</ul></div></li>
<li><a href="#collapse-238" data-toggle="collapse">REPLs<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-238"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/repls/python_shell.html">Python REPL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/repls/scala_shell.html">Scala REPL</a></li>
</ul></div></li>
<li><a href="#collapse-242" data-toggle="collapse">Advanced<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-242"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/external_resources.html">扩展资源</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/historyserver.html">History Server</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/logging.html">日志</a></li>
</ul></div></li>
</ul></div></li>
<li><a href="#collapse-248" data-toggle="collapse"><i class="fa fa-cogs title maindish" aria-hidden="true"></i> Operations<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-248"><ul>
<li><a href="#collapse-249" data-toggle="collapse">状态与容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-249"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/checkpoints.html">Checkpoints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/savepoints.html">Savepoints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/state_backends.html">State Backends</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/large_state_tuning.html">大状态与 Checkpoint 调优</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/metrics.html">指标</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/rest_api.html">REST API</a></li>
<li><a href="#collapse-257" data-toggle="collapse">Debugging<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-257"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/debugging_event_time.html">调试窗口与事件时间</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/debugging_classloading.html">调试类加载</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/application_profiling.html">应用程序分析</a></li>
</ul></div></li>
<li><a href="#collapse-262" data-toggle="collapse">Monitoring<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-262"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/monitoring/checkpoint_monitoring.html">监控 Checkpoint</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/monitoring/back_pressure.html">监控反压</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/upgrading.html">升级应用程序和 Flink 版本</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/production_ready.html">生产就绪情况核对清单</a></li>
</ul></div></li><hr class="section-break"></hr>
<li><a href="#collapse-269" data-toggle="collapse"><i class="fa fa-cogs title dessert" aria-hidden="true"></i> Flink 开发<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-269"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/flinkDev/ide_setup.html">导入 Flink 到 IDE 中</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/flinkDev/building.html">从源码构建 Flink</a></li>
</ul></div></li>
<li><a href="#collapse-273" data-toggle="collapse"><i class="fa fa-book title dessert" aria-hidden="true"></i> 内幕<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-273"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/job_scheduling.html">作业调度</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/task_lifecycle.html">Task 生命周期</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/filesystems.html">文件系统</a></li>
</ul></div></li>
  <li class="divider"></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/java"><i class="fa fa-external-link title" aria-hidden="true"></i> Javadocs</a></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/scala/index.html#org.apache.flink.api.scala.package"><i class="fa fa-external-link title" aria-hidden="true"></i> Scaladocs</a></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/python"><i class="fa fa-external-link title" aria-hidden="true"></i> Pythondocs</a></li>
  <li><a href="http://flink.apache.org"><i class="fa fa-external-link title" aria-hidden="true"></i> Project Page</a></li>
</ul>

<div class="sidenav-search-box">
  <form class="navbar-form" role="search" action="//ci.apache.org/projects/flink/flink-docs-release-1.12/search-results.html">
    <div class="form-group">
      <input type="text" class="form-control" size="16px" name="q" placeholder="Search">
    </div>
    <button type="submit" class="btn btn-default">Go</button>
  </form>
</div>

<div class="sidenav-versions">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">选择文档版本<span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.11">v1.11</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.10">v1.10</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.9">v1.9</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.8">v1.8</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.7">v1.7</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.6">v1.6</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.5">v1.5</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.4">v1.4</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.3">v1.3</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.2">v1.2</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.1">v1.1</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.0">v1.0</a></li>
    </ul>
  </div>
</div>

<div class="sidenav-languages"><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/dev/table/catalogs.html">
      <button type="submit" class="btn btn-default">English</button>
    </a>
</div>

        </div>
        <div class="col-lg-9 content" id="contentcol">

          

<ol class="breadcrumb">
  
    <li><i class="fa fa-code title maindish" aria-hidden="true"></i> 应用开发</li>
  
    <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/">Table API & SQL</a></li>
  
    <li class="active">Catalogs</li>
</ol>

<h1>Catalogs</h1>




<p>Catalog 提供了元数据信息，例如数据库、表、分区、视图以及数据库或其他外部系统中存储的函数和信息。</p>

<p>数据处理最关键的方面之一是管理元数据。
元数据可以是临时的，例如临时表、或者通过 TableEnvironment 注册的 UDF。
元数据也可以是持久化的，例如 Hive Metastore 中的元数据。Catalog 提供了一个统一的API，用于管理元数据，并使其可以从 Table API 和 SQL 查询语句中来访问。</p>

<ul id="markdown-toc">
  <li><a href="#catalog-类型" id="markdown-toc-catalog-类型">Catalog 类型</a>    <ul>
      <li><a href="#genericinmemorycatalog" id="markdown-toc-genericinmemorycatalog">GenericInMemoryCatalog</a></li>
      <li><a href="#jdbccatalog" id="markdown-toc-jdbccatalog">JdbcCatalog</a></li>
      <li><a href="#hivecatalog" id="markdown-toc-hivecatalog">HiveCatalog</a></li>
      <li><a href="#用户自定义-catalog" id="markdown-toc-用户自定义-catalog">用户自定义 Catalog</a></li>
    </ul>
  </li>
  <li><a href="#如何创建-flink-表并将其注册到-catalog" id="markdown-toc-如何创建-flink-表并将其注册到-catalog">如何创建 Flink 表并将其注册到 Catalog</a>    <ul>
      <li><a href="#使用-sql-ddl" id="markdown-toc-使用-sql-ddl">使用 SQL DDL</a></li>
      <li><a href="#使用-javascala" id="markdown-toc-使用-javascala">使用 Java/Scala</a></li>
    </ul>
  </li>
  <li><a href="#catalog-api" id="markdown-toc-catalog-api">Catalog API</a>    <ul>
      <li><a href="#数据库操作" id="markdown-toc-数据库操作">数据库操作</a></li>
      <li><a href="#表操作" id="markdown-toc-表操作">表操作</a></li>
      <li><a href="#视图操作" id="markdown-toc-视图操作">视图操作</a></li>
      <li><a href="#分区操作" id="markdown-toc-分区操作">分区操作</a></li>
      <li><a href="#函数操作" id="markdown-toc-函数操作">函数操作</a></li>
    </ul>
  </li>
  <li><a href="#通过-table-api-和-sql-client-操作-catalog" id="markdown-toc-通过-table-api-和-sql-client-操作-catalog">通过 Table API 和 SQL Client 操作 Catalog</a>    <ul>
      <li><a href="#注册-catalog" id="markdown-toc-注册-catalog">注册 Catalog</a></li>
      <li><a href="#修改当前的-catalog-和数据库" id="markdown-toc-修改当前的-catalog-和数据库">修改当前的 Catalog 和数据库</a></li>
      <li><a href="#列出可用的-catalog" id="markdown-toc-列出可用的-catalog">列出可用的 Catalog</a></li>
      <li><a href="#列出可用的数据库" id="markdown-toc-列出可用的数据库">列出可用的数据库</a></li>
      <li><a href="#列出可用的表" id="markdown-toc-列出可用的表">列出可用的表</a></li>
    </ul>
  </li>
</ul>

<h2 id="catalog-类型">Catalog 类型</h2>

<h3 id="genericinmemorycatalog">GenericInMemoryCatalog</h3>

<p><code class="highlighter-rouge">GenericInMemoryCatalog</code> 是基于内存实现的 Catalog，所有元数据只在 session 的生命周期内可用。</p>

<h3 id="jdbccatalog">JdbcCatalog</h3>

<p><code class="highlighter-rouge">JdbcCatalog</code> 使得用户可以将 Flink 通过 JDBC 协议连接到关系数据库。<code class="highlighter-rouge">PostgresCatalog</code> 是当前实现的唯一一种 JDBC Catalog。
参考 <a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/jdbc.html">JdbcCatalog 文档</a> 获取关于配置 JDBC catalog 的详细信息。</p>

<h3 id="hivecatalog">HiveCatalog</h3>

<p><code class="highlighter-rouge">HiveCatalog</code> 有两个用途：作为原生 Flink 元数据的持久化存储，以及作为读写现有 Hive 元数据的接口。 
Flink 的 <a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/">Hive 文档</a> 提供了有关设置 <code class="highlighter-rouge">HiveCatalog</code> 以及访问现有 Hive 元数据的详细信息。</p>

<p><span class="label label-danger">警告</span> Hive Metastore 以小写形式存储所有元数据对象名称。而 <code class="highlighter-rouge">GenericInMemoryCatalog</code> 区分大小写。</p>

<h3 id="用户自定义-catalog">用户自定义 Catalog</h3>

<p>Catalog 是可扩展的，用户可以通过实现 <code class="highlighter-rouge">Catalog</code> 接口来开发自定义 Catalog。
想要在 SQL CLI 中使用自定义 Catalog，用户除了需要实现自定义的 Catalog 之外，还需要为这个 Catalog 实现对应的 <code class="highlighter-rouge">CatalogFactory</code> 接口。</p>

<p><code class="highlighter-rouge">CatalogFactory</code> 定义了一组属性，用于 SQL CLI 启动时配置 Catalog。
这组属性集将传递给发现服务，在该服务中，服务会尝试将属性关联到 <code class="highlighter-rouge">CatalogFactory</code> 并初始化相应的 Catalog 实例。</p>

<h2 id="如何创建-flink-表并将其注册到-catalog">如何创建 Flink 表并将其注册到 Catalog</h2>

<h3 id="使用-sql-ddl">使用 SQL DDL</h3>

<p>用户可以使用 DDL 通过 Table API 或者 SQL Client 在 Catalog 中创建表。</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">TableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="o">...</span>

<span class="c1">// Create a HiveCatalog </span>
<span class="nc">Catalog</span> <span class="n">catalog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HiveCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="o">);</span>

<span class="c1">// Register the catalog</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="n">catalog</span><span class="o">);</span>

<span class="c1">// Create a catalog database</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">executeSql</span><span class="o">(</span><span class="s">"CREATE DATABASE mydb WITH (...)"</span><span class="o">);</span>

<span class="c1">// Create a catalog table</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">executeSql</span><span class="o">(</span><span class="s">"CREATE TABLE mytable (name STRING, age INT) WITH (...)"</span><span class="o">);</span>

<span class="n">tableEnv</span><span class="o">.</span><span class="na">listTables</span><span class="o">();</span> <span class="c1">// should return the tables in current catalog and database.</span></code></pre></figure>

  </div>
  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">tableEnv</span> <span class="k">=</span> <span class="o">...</span>

<span class="c1">// Create a HiveCatalog </span>
<span class="k">val</span> <span class="nv">catalog</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">HiveCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="o">);</span>

<span class="c1">// Register the catalog</span>
<span class="nv">tableEnv</span><span class="o">.</span><span class="py">registerCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="n">catalog</span><span class="o">);</span>

<span class="c1">// Create a catalog database</span>
<span class="nv">tableEnv</span><span class="o">.</span><span class="py">executeSql</span><span class="o">(</span><span class="s">"CREATE DATABASE mydb WITH (...)"</span><span class="o">);</span>

<span class="c1">// Create a catalog table</span>
<span class="nv">tableEnv</span><span class="o">.</span><span class="py">executeSql</span><span class="o">(</span><span class="s">"CREATE TABLE mytable (name STRING, age INT) WITH (...)"</span><span class="o">);</span>

<span class="nv">tableEnv</span><span class="o">.</span><span class="py">listTables</span><span class="o">();</span> <span class="c1">// should return the tables in current catalog and database.</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">HiveCatalog</span>

<span class="c1"># Create a HiveCatalog
</span><span class="n">catalog</span> <span class="o">=</span> <span class="n">HiveCatalog</span><span class="p">(</span><span class="s">"myhive"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="p">)</span>

<span class="c1"># Register the catalog
</span><span class="n">t_env</span><span class="p">.</span><span class="n">register_catalog</span><span class="p">(</span><span class="s">"myhive"</span><span class="p">,</span> <span class="n">catalog</span><span class="p">)</span>

<span class="c1"># Create a catalog database
</span><span class="n">t_env</span><span class="p">.</span><span class="n">execute_sql</span><span class="p">(</span><span class="s">"CREATE DATABASE mydb WITH (...)"</span><span class="p">)</span>

<span class="c1"># Create a catalog table
</span><span class="n">t_env</span><span class="p">.</span><span class="n">execute_sql</span><span class="p">(</span><span class="s">"CREATE TABLE mytable (name STRING, age INT) WITH (...)"</span><span class="p">)</span>

<span class="c1"># should return the tables in current catalog and database.
</span><span class="n">t_env</span><span class="p">.</span><span class="n">list_tables</span><span class="p">()</span></code></pre></figure>

  </div>
  <div data-lang="SQL Client">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="o">//</span> <span class="n">the</span> <span class="k">catalog</span> <span class="n">should</span> <span class="n">have</span> <span class="n">been</span> <span class="n">registered</span> <span class="n">via</span> <span class="n">yaml</span> <span class="n">file</span>
<span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">mydb</span> <span class="k">WITH</span> <span class="p">(...);</span>

<span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">mytable</span> <span class="p">(</span><span class="n">name</span> <span class="n">STRING</span><span class="p">,</span> <span class="n">age</span> <span class="nb">INT</span><span class="p">)</span> <span class="k">WITH</span> <span class="p">(...);</span>

<span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">SHOW</span> <span class="n">TABLES</span><span class="p">;</span>
<span class="n">mytable</span></code></pre></figure>

  </div>
</div>

<p>更多详细信息，请参考<a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/create.html">Flink SQL CREATE DDL</a>。</p>

<h3 id="使用-javascala">使用 Java/Scala</h3>

<p>用户可以用编程的方式使用Java 或者 Scala 来创建 Catalog 表。</p>

<div class="codetabs">
  <div data-lang="java">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.apache.flink.table.api.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.flink.table.catalog.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.flink.table.catalog.hive.HiveCatalog</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.flink.table.descriptors.Kafka</span><span class="o">;</span>

<span class="nc">TableEnvironment</span> <span class="n">tableEnv</span> <span class="o">=</span> <span class="nc">TableEnvironment</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">EnvironmentSettings</span><span class="o">.</span><span class="na">newInstance</span><span class="o">().</span><span class="na">build</span><span class="o">());</span>

<span class="c1">// Create a HiveCatalog</span>
<span class="nc">Catalog</span> <span class="n">catalog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HiveCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="o">);</span>

<span class="c1">// Register the catalog</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">registerCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="n">catalog</span><span class="o">);</span>

<span class="c1">// Create a catalog database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CatalogDatabaseImpl</span><span class="o">(...));</span>

<span class="c1">// Create a catalog table</span>
<span class="nc">TableSchema</span> <span class="n">schema</span> <span class="o">=</span> <span class="nc">TableSchema</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="nc">DataTypes</span><span class="o">.</span><span class="na">STRING</span><span class="o">())</span>
    <span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">"age"</span><span class="o">,</span> <span class="nc">DataTypes</span><span class="o">.</span><span class="na">INT</span><span class="o">())</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">catalog</span><span class="o">.</span><span class="na">createTable</span><span class="o">(</span>
        <span class="k">new</span> <span class="nf">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">CatalogTableImpl</span><span class="o">(</span>
            <span class="n">schema</span><span class="o">,</span>
            <span class="k">new</span> <span class="nf">Kafka</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="s">"0.11"</span><span class="o">)</span>
                <span class="o">....</span>
                <span class="o">.</span><span class="na">startFromEarlist</span><span class="o">()</span>
                <span class="o">.</span><span class="na">toProperties</span><span class="o">(),</span>
            <span class="s">"my comment"</span>
        <span class="o">),</span>
        <span class="kc">false</span>
    <span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">tables</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="na">listTables</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span> <span class="c1">// tables should contain "mytable"</span></code></pre></figure>

  </div>
  <div data-lang="scala">

    <figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.flink.table.api._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.table.catalog._</span>
<span class="k">import</span> <span class="nn">org.apache.flink.table.catalog.hive.HiveCatalog</span>
<span class="k">import</span> <span class="nn">org.apache.flink.table.descriptors.Kafka</span>

<span class="k">val</span> <span class="nv">tableEnv</span> <span class="k">=</span> <span class="nv">TableEnvironment</span><span class="o">.</span><span class="py">create</span><span class="o">(</span><span class="nv">EnvironmentSettings</span><span class="o">.</span><span class="py">newInstance</span><span class="o">.</span><span class="py">build</span><span class="o">)</span>

<span class="c1">// Create a HiveCatalog</span>
<span class="k">val</span> <span class="nv">catalog</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">HiveCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="o">)</span>

<span class="c1">// Register the catalog</span>
<span class="nv">tableEnv</span><span class="o">.</span><span class="py">registerCatalog</span><span class="o">(</span><span class="s">"myhive"</span><span class="o">,</span> <span class="n">catalog</span><span class="o">)</span>

<span class="c1">// Create a catalog database</span>
<span class="nv">catalog</span><span class="o">.</span><span class="py">createDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CatalogDatabaseImpl</span><span class="o">(...))</span>

<span class="c1">// Create a catalog table</span>
<span class="k">val</span> <span class="nv">schema</span> <span class="k">=</span> <span class="nv">TableSchema</span><span class="o">.</span><span class="py">builder</span><span class="o">()</span>
    <span class="o">.</span><span class="py">field</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="nv">DataTypes</span><span class="o">.</span><span class="py">STRING</span><span class="o">())</span>
    <span class="o">.</span><span class="py">field</span><span class="o">(</span><span class="s">"age"</span><span class="o">,</span> <span class="nv">DataTypes</span><span class="o">.</span><span class="py">INT</span><span class="o">())</span>
    <span class="o">.</span><span class="py">build</span><span class="o">()</span>

<span class="nv">catalog</span><span class="o">.</span><span class="py">createTable</span><span class="o">(</span>
        <span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span>
        <span class="k">new</span> <span class="nc">CatalogTableImpl</span><span class="o">(</span>
            <span class="n">schema</span><span class="o">,</span>
            <span class="k">new</span> <span class="nc">Kafka</span><span class="o">()</span>
                <span class="o">.</span><span class="py">version</span><span class="o">(</span><span class="s">"0.11"</span><span class="o">)</span>
                <span class="o">....</span>
                <span class="o">.</span><span class="py">startFromEarlist</span><span class="o">()</span>
                <span class="o">.</span><span class="py">toProperties</span><span class="o">(),</span>
            <span class="s">"my comment"</span>
        <span class="o">),</span>
        <span class="kc">false</span>
    <span class="o">)</span>

<span class="k">val</span> <span class="nv">tables</span> <span class="k">=</span> <span class="nv">catalog</span><span class="o">.</span><span class="py">listTables</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">)</span> <span class="c1">// tables should contain "mytable"</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">HiveCatalog</span><span class="p">,</span> <span class="n">CatalogDatabase</span><span class="p">,</span> <span class="n">ObjectPath</span><span class="p">,</span> <span class="n">CatalogBaseTable</span>
<span class="kn">from</span> <span class="nn">pyflink.table.descriptors</span> <span class="kn">import</span> <span class="n">Kafka</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">EnvironmentSettings</span><span class="p">.</span><span class="n">new_instance</span><span class="p">().</span><span class="n">in_batch_mode</span><span class="p">().</span><span class="n">use_blink_planner</span><span class="p">().</span><span class="n">build</span><span class="p">()</span>
<span class="n">t_env</span> <span class="o">=</span> <span class="n">BatchTableEnvironment</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">environment_settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>

<span class="c1"># Create a HiveCatalog
</span><span class="n">catalog</span> <span class="o">=</span> <span class="n">HiveCatalog</span><span class="p">(</span><span class="s">"myhive"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">"&lt;path_of_hive_conf&gt;"</span><span class="p">)</span>

<span class="c1"># Register the catalog
</span><span class="n">t_env</span><span class="p">.</span><span class="n">register_catalog</span><span class="p">(</span><span class="s">"myhive"</span><span class="p">,</span> <span class="n">catalog</span><span class="p">)</span>

<span class="c1"># Create a catalog database
</span><span class="n">database</span> <span class="o">=</span> <span class="n">CatalogDatabase</span><span class="p">.</span><span class="n">create_instance</span><span class="p">({</span><span class="s">"k1"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">},</span> <span class="bp">None</span><span class="p">)</span>
<span class="n">catalog</span><span class="p">.</span><span class="n">create_database</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="n">database</span><span class="p">)</span>

<span class="c1"># Create a catalog table
</span><span class="n">table_schema</span> <span class="o">=</span> <span class="n">TableSchema</span><span class="p">.</span><span class="n">builder</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">STRING</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"age"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">INT</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">build</span><span class="p">()</span>

<span class="n">table_properties</span> <span class="o">=</span> <span class="n">Kafka</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">"0.11"</span><span class="p">)</span> \
    <span class="p">.</span><span class="n">start_from_earlist</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">to_properties</span><span class="p">()</span>

<span class="n">catalog_table</span> <span class="o">=</span> <span class="n">CatalogBaseTable</span><span class="p">.</span><span class="n">create_table</span><span class="p">(</span>
    <span class="n">schema</span><span class="o">=</span><span class="n">table_schema</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">table_properties</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s">"my comment"</span><span class="p">)</span>

<span class="n">catalog</span><span class="p">.</span><span class="n">create_table</span><span class="p">(</span>
    <span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span>
    <span class="n">catalog_table</span><span class="p">,</span>
    <span class="bp">False</span><span class="p">)</span>

<span class="c1"># tables should contain "mytable"
</span><span class="n">tables</span> <span class="o">=</span> <span class="n">catalog</span><span class="p">.</span><span class="n">list_tables</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span></code></pre></figure>

  </div>
</div>

<h2 id="catalog-api">Catalog API</h2>

<p>注意：这里只列出了编程方式的 Catalog API，用户可以使用 SQL DDL 实现许多相同的功能。
关于 DDL 的详细信息请参考 <a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/create.html">SQL CREATE DDL</a>。</p>

<h3 id="数据库操作">数据库操作</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// create database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CatalogDatabaseImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// drop database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">dropDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// alter database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">alterDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CatalogDatabaseImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// get databse</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">getDatabase</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span>

<span class="c1">// check if a database exist</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">databaseExists</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span>

<span class="c1">// list databases in a catalog</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listDatabases</span><span class="o">(</span><span class="s">"mycatalog"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">CatalogDatabase</span>

<span class="c1"># create database
</span><span class="n">catalog_database</span> <span class="o">=</span> <span class="n">CatalogDatabase</span><span class="p">.</span><span class="n">create_instance</span><span class="p">({</span><span class="s">"k1"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">},</span> <span class="bp">None</span><span class="p">)</span>
<span class="n">catalog</span><span class="p">.</span><span class="n">create_database</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="n">catalog_database</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># drop database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">drop_database</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># alter database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">alter_database</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="n">catalog_database</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># get database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">get_database</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span>

<span class="c1"># check if a database exist
</span><span class="n">catalog</span><span class="p">.</span><span class="n">database_exists</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span>

<span class="c1"># list databases in a catalog
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_databases</span><span class="p">()</span></code></pre></figure>

  </div>
</div>

<h3 id="表操作">表操作</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// create table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogTableImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// drop table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">dropTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// alter table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">alterTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogTableImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// rename table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">renameTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="s">"my_new_table"</span><span class="o">);</span>

<span class="c1">// get table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">getTable</span><span class="o">(</span><span class="s">"mytable"</span><span class="o">);</span>

<span class="c1">// check if a table exist or not</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">tableExists</span><span class="o">(</span><span class="s">"mytable"</span><span class="o">);</span>

<span class="c1">// list tables in a database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listTables</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">CatalogBaseTable</span><span class="p">,</span> <span class="n">ObjectPath</span>
<span class="kn">from</span> <span class="nn">pyflink.table.descriptors</span> <span class="kn">import</span> <span class="n">Kafka</span>

<span class="n">table_schema</span> <span class="o">=</span> <span class="n">TableSchema</span><span class="p">.</span><span class="n">builder</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">STRING</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"age"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">INT</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">build</span><span class="p">()</span>

<span class="n">table_properties</span> <span class="o">=</span> <span class="n">Kafka</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">"0.11"</span><span class="p">)</span> \
    <span class="p">.</span><span class="n">start_from_earlist</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">to_properties</span><span class="p">()</span>

<span class="n">catalog_table</span> <span class="o">=</span> <span class="n">CatalogBaseTable</span><span class="p">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">table_schema</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">table_properties</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s">"my comment"</span><span class="p">)</span>

<span class="c1"># create table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_table</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># drop table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># alter table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">alter_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_table</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># rename table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">rename_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="s">"my_new_table"</span><span class="p">)</span>

<span class="c1"># get table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">get_table</span><span class="p">(</span><span class="s">"mytable"</span><span class="p">)</span>

<span class="c1"># check if a table exist or not
</span><span class="n">catalog</span><span class="p">.</span><span class="n">table_exists</span><span class="p">(</span><span class="s">"mytable"</span><span class="p">)</span>

<span class="c1"># list tables in a database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_tables</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span></code></pre></figure>

  </div>
</div>

<h3 id="视图操作">视图操作</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// create view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myview"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogViewImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// drop view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">dropTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myview"</span><span class="o">),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// alter view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">alterTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogViewImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// rename view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">renameTable</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myview"</span><span class="o">),</span> <span class="s">"my_new_view"</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// get view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">getTable</span><span class="o">(</span><span class="s">"myview"</span><span class="o">);</span>

<span class="c1">// check if a view exist or not</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">tableExists</span><span class="o">(</span><span class="s">"mytable"</span><span class="o">);</span>

<span class="c1">// list views in a database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listViews</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">CatalogBaseTable</span><span class="p">,</span> <span class="n">ObjectPath</span>

<span class="n">table_schema</span> <span class="o">=</span> <span class="n">TableSchema</span><span class="p">.</span><span class="n">builder</span><span class="p">()</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">STRING</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">field</span><span class="p">(</span><span class="s">"age"</span><span class="p">,</span> <span class="n">DataTypes</span><span class="p">.</span><span class="n">INT</span><span class="p">())</span> \
    <span class="p">.</span><span class="n">build</span><span class="p">()</span>

<span class="n">catalog_table</span> <span class="o">=</span> <span class="n">CatalogBaseTable</span><span class="p">.</span><span class="n">create_view</span><span class="p">(</span>
    <span class="n">original_query</span><span class="o">=</span><span class="s">"select * from t1"</span><span class="p">,</span>
    <span class="n">expanded_query</span><span class="o">=</span><span class="s">"select * from test-catalog.db1.t1"</span><span class="p">,</span>
    <span class="n">schema</span><span class="o">=</span><span class="n">table_schema</span><span class="p">,</span>
    <span class="n">properties</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">comment</span><span class="o">=</span><span class="s">"This is a view"</span>
<span class="p">)</span>

<span class="n">catalog</span><span class="p">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myview"</span><span class="p">),</span> <span class="n">catalog_table</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># drop view
</span><span class="n">catalog</span><span class="p">.</span><span class="n">drop_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myview"</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># alter view
</span><span class="n">catalog</span><span class="p">.</span><span class="n">alter_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_table</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># rename view
</span><span class="n">catalog</span><span class="p">.</span><span class="n">rename_table</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myview"</span><span class="p">),</span> <span class="s">"my_new_view"</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># get view
</span><span class="n">catalog</span><span class="p">.</span><span class="n">get_table</span><span class="p">(</span><span class="s">"myview"</span><span class="p">)</span>

<span class="c1"># check if a view exist or not
</span><span class="n">catalog</span><span class="p">.</span><span class="n">table_exists</span><span class="p">(</span><span class="s">"mytable"</span><span class="p">)</span>

<span class="c1"># list views in a database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_views</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span></code></pre></figure>

  </div>
</div>

<h3 id="分区操作">分区操作</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// create view</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createPartition</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">CatalogPartitionSpec</span><span class="o">(...),</span>
    <span class="k">new</span> <span class="nf">CatalogPartitionImpl</span><span class="o">(...),</span>
    <span class="kc">false</span><span class="o">);</span>

<span class="c1">// drop partition</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">dropPartition</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogPartitionSpec</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// alter partition</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">alterPartition</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">CatalogPartitionSpec</span><span class="o">(...),</span>
    <span class="k">new</span> <span class="nf">CatalogPartitionImpl</span><span class="o">(...),</span>
    <span class="kc">false</span><span class="o">);</span>

<span class="c1">// get partition</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">getPartition</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogPartitionSpec</span><span class="o">(...));</span>

<span class="c1">// check if a partition exist or not</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">partitionExists</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogPartitionSpec</span><span class="o">(...));</span>

<span class="c1">// list partitions of a table</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listPartitions</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">));</span>

<span class="c1">// list partitions of a table under a give partition spec</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listPartitions</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogPartitionSpec</span><span class="o">(...));</span>

<span class="c1">// list partitions of a table by expression filter</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listPartitions</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"mytable"</span><span class="o">),</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">epr1</span><span class="o">,</span> <span class="o">...));</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">ObjectPath</span><span class="p">,</span> <span class="n">CatalogPartitionSpec</span><span class="p">,</span> <span class="n">CatalogPartition</span>

<span class="n">catalog_partition</span> <span class="o">=</span> <span class="n">CatalogPartition</span><span class="p">.</span><span class="n">create_instance</span><span class="p">({},</span> <span class="s">"my partition"</span><span class="p">)</span>

<span class="n">catalog_partition_spec</span> <span class="o">=</span> <span class="n">CatalogPartitionSpec</span><span class="p">({</span><span class="s">"third"</span><span class="p">:</span> <span class="s">"2010"</span><span class="p">,</span> <span class="s">"second"</span><span class="p">:</span> <span class="s">"bob"</span><span class="p">})</span>
<span class="n">catalog</span><span class="p">.</span><span class="n">create_partition</span><span class="p">(</span>
    <span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span>
    <span class="n">catalog_partition_spec</span><span class="p">,</span>
    <span class="n">catalog_partition</span><span class="p">,</span>
    <span class="bp">False</span><span class="p">)</span>

<span class="c1"># drop partition
</span><span class="n">catalog</span><span class="p">.</span><span class="n">drop_partition</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_partition_spec</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># alter partition
</span><span class="n">catalog</span><span class="p">.</span><span class="n">alter_partition</span><span class="p">(</span>
    <span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span>
    <span class="n">CatalogPartitionSpec</span><span class="p">(...),</span>
    <span class="n">catalog_partition</span><span class="p">,</span>
    <span class="bp">False</span><span class="p">)</span>

<span class="c1"># get partition
</span><span class="n">catalog</span><span class="p">.</span><span class="n">get_partition</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_partition_spec</span><span class="p">)</span>

<span class="c1"># check if a partition exist or not
</span><span class="n">catalog</span><span class="p">.</span><span class="n">partition_exists</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_partition_spec</span><span class="p">)</span>

<span class="c1"># list partitions of a table
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_partitions</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">))</span>

<span class="c1"># list partitions of a table under a give partition spec
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_partitions</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"mytable"</span><span class="p">),</span> <span class="n">catalog_partition_spec</span><span class="p">)</span></code></pre></figure>

  </div>
</div>

<h3 id="函数操作">函数操作</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// create function</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">createFunction</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myfunc"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogFunctionImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// drop function</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">dropFunction</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myfunc"</span><span class="o">),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// alter function</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">alterFunction</span><span class="o">(</span><span class="k">new</span> <span class="nc">ObjectPath</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="s">"myfunc"</span><span class="o">),</span> <span class="k">new</span> <span class="nc">CatalogFunctionImpl</span><span class="o">(...),</span> <span class="kc">false</span><span class="o">);</span>

<span class="c1">// get function</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">getFunction</span><span class="o">(</span><span class="s">"myfunc"</span><span class="o">);</span>

<span class="c1">// check if a function exist or not</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">functionExists</span><span class="o">(</span><span class="s">"myfunc"</span><span class="o">);</span>

<span class="c1">// list functions in a database</span>
<span class="n">catalog</span><span class="o">.</span><span class="na">listFunctions</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pyflink.table.catalog</span> <span class="kn">import</span> <span class="n">ObjectPath</span><span class="p">,</span> <span class="n">CatalogFunction</span>

<span class="n">catalog_function</span> <span class="o">=</span> <span class="n">CatalogFunction</span><span class="p">.</span><span class="n">create_instance</span><span class="p">(</span><span class="n">class_name</span><span class="o">=</span><span class="s">"my.python.udf"</span><span class="p">)</span>

<span class="c1"># create function
</span><span class="n">catalog</span><span class="p">.</span><span class="n">create_function</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myfunc"</span><span class="p">),</span> <span class="n">catalog_function</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># drop function
</span><span class="n">catalog</span><span class="p">.</span><span class="n">drop_function</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myfunc"</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># alter function
</span><span class="n">catalog</span><span class="p">.</span><span class="n">alter_function</span><span class="p">(</span><span class="n">ObjectPath</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">,</span> <span class="s">"myfunc"</span><span class="p">),</span> <span class="n">catalog_function</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># get function
</span><span class="n">catalog</span><span class="p">.</span><span class="n">get_function</span><span class="p">(</span><span class="s">"myfunc"</span><span class="p">)</span>

<span class="c1"># check if a function exist or not
</span><span class="n">catalog</span><span class="p">.</span><span class="n">function_exists</span><span class="p">(</span><span class="s">"myfunc"</span><span class="p">)</span>

<span class="c1"># list functions in a database
</span><span class="n">catalog</span><span class="p">.</span><span class="n">list_functions</span><span class="p">(</span><span class="s">"mydb"</span><span class="p">)</span></code></pre></figure>

  </div>
</div>

<h2 id="通过-table-api-和-sql-client-操作-catalog">通过 Table API 和 SQL Client 操作 Catalog</h2>

<h3 id="注册-catalog">注册 Catalog</h3>

<p>用户可以访问默认创建的内存 Catalog <code class="highlighter-rouge">default_catalog</code>，这个 Catalog 默认拥有一个默认数据库 <code class="highlighter-rouge">default_database</code>。
用户也可以注册其他的 Catalog 到现有的 Flink 会话中。</p>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">registerCatalog</span><span class="o">(</span><span class="k">new</span> <span class="nc">CustomCatalog</span><span class="o">(</span><span class="s">"myCatalog"</span><span class="o">));</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">register_catalog</span><span class="p">(</span><span class="n">catalog</span><span class="p">)</span></code></pre></figure>

  </div>
  <div data-lang="YAML">

    <p>使用 YAML 定义的 Catalog 必须提供 <code class="highlighter-rouge">type</code> 属性，以表示指定的 Catalog 类型。
以下几种类型可以直接使用。</p>

    <table class="table table-bordered">
  <thead>
    <tr>
      <th class="text-center" style="width: 25%">Catalog</th>
      <th class="text-center">Type Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td class="text-center">GenericInMemory</td>
        <td class="text-center">generic_in_memory</td>
    </tr>
    <tr>
        <td class="text-center">Hive</td>
        <td class="text-center">hive</td>
    </tr>
  </tbody>
</table>

    <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">catalogs</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">myCatalog</span>
     <span class="na">type</span><span class="pi">:</span> <span class="s">custom_catalog</span>
     <span class="na">hive-conf-dir</span><span class="pi">:</span> <span class="s">...</span></code></pre></figure>

  </div>
</div>

<h3 id="修改当前的-catalog-和数据库">修改当前的 Catalog 和数据库</h3>

<p>Flink 始终在当前的 Catalog 和数据库中寻找表、视图和 UDF。</p>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">useCatalog</span><span class="o">(</span><span class="s">"myCatalog"</span><span class="o">);</span>
<span class="n">tableEnv</span><span class="o">.</span><span class="na">useDatabase</span><span class="o">(</span><span class="s">"myDb"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">use_catalog</span><span class="p">(</span><span class="s">"myCatalog"</span><span class="p">)</span>
<span class="n">t_env</span><span class="p">.</span><span class="n">use_database</span><span class="p">(</span><span class="s">"myDb"</span><span class="p">)</span></code></pre></figure>

  </div>
  <div data-lang="SQL">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="n">USE</span> <span class="k">CATALOG</span> <span class="n">myCatalog</span><span class="p">;</span>
<span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="n">USE</span> <span class="n">myDB</span><span class="p">;</span></code></pre></figure>

  </div>
</div>

<p>通过提供全限定名 <code class="highlighter-rouge">catalog.database.object</code> 来访问不在当前 Catalog 中的元数据信息。</p>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="s">"not_the_current_catalog.not_the_current_db.my_table"</span><span class="o">);</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">from_path</span><span class="p">(</span><span class="s">"not_the_current_catalog.not_the_current_db.my_table"</span><span class="p">)</span></code></pre></figure>

  </div>
  <div data-lang="SQL">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">not_the_current_catalog</span><span class="p">.</span><span class="n">not_the_current_db</span><span class="p">.</span><span class="n">my_table</span><span class="p">;</span></code></pre></figure>

  </div>
</div>

<h3 id="列出可用的-catalog">列出可用的 Catalog</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">listCatalogs</span><span class="o">();</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">list_catalogs</span><span class="p">()</span></code></pre></figure>

  </div>
  <div data-lang="SQL">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">catalogs</span><span class="p">;</span></code></pre></figure>

  </div>
</div>

<h3 id="列出可用的数据库">列出可用的数据库</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">listDatabases</span><span class="o">();</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">list_databases</span><span class="p">()</span></code></pre></figure>

  </div>
  <div data-lang="SQL">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">databases</span><span class="p">;</span></code></pre></figure>

  </div>
</div>

<h3 id="列出可用的表">列出可用的表</h3>

<div class="codetabs">
  <div data-lang="Java/Scala">

    <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">tableEnv</span><span class="o">.</span><span class="na">listTables</span><span class="o">();</span></code></pre></figure>

  </div>
  <div data-lang="Python">

    <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">t_env</span><span class="p">.</span><span class="n">list_tables</span><span class="p">()</span></code></pre></figure>

  </div>
  <div data-lang="SQL">

    <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="n">Flink</span> <span class="k">SQL</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">tables</span><span class="p">;</span></code></pre></figure>

  </div>
</div>



<div class="footer">
  <a href="https://cwiki.apache.org/confluence/display/FLINK/Flink+Translation+Specifications" target="_blank">
    
      想参与贡献翻译？
    
  </a>
</div>


        </div>
      </div>
    </div><!-- /.container -->

    <!-- default code tab -->
    <script>var defaultCodeTab = "";</script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script>
    <script src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/js/flink.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52545728-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Disqus -->
    
  </body>
</html>
