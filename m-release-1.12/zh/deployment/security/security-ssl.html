<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Apache Flink 1.12 Documentation: SSL 设置</title>
    <link rel="shortcut icon" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/favicon.ico" type="image/x-icon">
    <link rel="icon" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="//ci.apache.org/projects/flink/flink-docs-stable/zh/deployment/security/security-ssl.html">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/flink.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/syntax.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/css/codetabs.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/font-awesome/css/font-awesome.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    

    <!-- Main content. -->
    <div class="container">
      
      <div class="row">
        <div class="col-lg-3" id="sidenavcol">
          <div class="sidenav-logo">
  <p><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/"><img class="bottom" alt="Apache Flink" src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/img/navbar-brand-logo.jpg"></a> v1.12</p>
</div>
<ul id="sidenav">
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/"><i class="fa fa-home title" aria-hidden="true"></i> Home</a></li><hr class="section-break"></hr>
<li><a href="#collapse-2" data-toggle="collapse"><i class="fa fa-rocket title appetizer" aria-hidden="true"></i> Try Flink<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-2"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/local_installation.html">本地模式安装</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/datastream_api.html">基于 DataStream API 实现欺诈检测</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/table_api.html">基于 Table API 实现实时报表</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/try-flink/flink-operations-playground.html">Flink 操作场景</a></li>
</ul></div></li>
<li><a href="#collapse-8" data-toggle="collapse"><i class="fa fa-hand-paper-o title appetizer" aria-hidden="true"></i> 实践练习<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-8"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/datastream_api.html">DataStream API 简介</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/etl.html">数据管道 & ETL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/streaming_analytics.html">流式分析</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/event_driven.html">事件驱动应用</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/learn-flink/fault_tolerance.html">容错处理</a></li>
</ul></div></li>
<li><a href="#collapse-15" data-toggle="collapse"><i class="fa fa-map-o title appetizer" aria-hidden="true"></i> 概念透析<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-15"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/index.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/stateful-stream-processing.html">有状态流处理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/timely-stream-processing.html">及时流处理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/flink-architecture.html">Flink 架构</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/concepts/glossary.html">词汇表</a></li>
</ul></div></li><hr class="section-break"></hr>
<li><a href="#collapse-21" data-toggle="collapse"><i class="fa fa-code title maindish" aria-hidden="true"></i> 应用开发<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-21"><ul>
<li><a href="#collapse-22" data-toggle="collapse">DataStream API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-22"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/datastream_api.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/datastream_execution_mode.html">Execution Mode (Batch/Streaming)</a></li>
<li><a href="#collapse-24" data-toggle="collapse">事件时间<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-24"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_time.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_timestamps_watermarks.html">生成 Watermark</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/event_timestamp_extractors.html">内置 Watermark 生成器</a></li>
</ul></div></li>
<li><a href="#collapse-28" data-toggle="collapse">状态与容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-28"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/state.html">Working with State</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/broadcast_state.html">Broadcast State 模式</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/checkpointing.html">Checkpointing</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/queryable_state.html">Queryable State</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/state_backends.html">State Backends</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/schema_evolution.html">状态数据结构升级</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/state/custom_serialization.html">自定义状态序列化</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/user_defined_functions.html">用户自定义 Functions</a></li>
<li><a href="#collapse-38" data-toggle="collapse">算子<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-38"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/windows.html">窗口</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/joining.html">Joining</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/process_function.html">Process Function</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/operators/asyncio.html">异步 I/O</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/sources.html">Data Sources</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/side_output.html">旁路输出</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/application_parameters.html">Handling Application Parameters</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/testing.html">测试</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/stream/experimental.html">实验功能</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/scala_api_extensions.html">Scala API Extensions</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/java_lambdas.html">Java Lambda 表达式</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/project-configuration.html">Project Configuration</a></li>
</ul></div></li>
<li><a href="#collapse-53" data-toggle="collapse">DataSet API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-53"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/dataset_transformations.html">Transformations</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/iterations.html">迭代</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/zip_elements_guide.html">Zipping Elements</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/hadoop_compatibility.html">Hadoop 兼容</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/local_execution.html">本地执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/cluster_execution.html">集群执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/examples.html">Batch 示例</a></li>
</ul></div></li>
<li><a href="#collapse-62" data-toggle="collapse">Table API & SQL<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-62"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/common.html">概念与通用 API</a></li>
<li><a href="#collapse-64" data-toggle="collapse">流式概念<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-64"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/dynamic_tables.html">动态表 (Dynamic Table)</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/time_attributes.html">时间属性</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/joins.html">流上的 Join</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/temporal_tables.html">时态表（Temporal Tables）</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/match_recognize.html">模式检测</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/streaming/query_configuration.html">Query Configuration</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/tableApi.html">Table API</a></li>
<li><a href="#collapse-74" data-toggle="collapse">SQL<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-74"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/queries.html">查询语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/create.html">CREATE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/drop.html">DROP 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/alter.html">ALTER 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/insert.html">INSERT 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/hints.html">SQL Hints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/describe.html">DESCRIBE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/explain.html">EXPLAIN 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/use.html">USE 语句</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sql/show.html">SHOW 语句</a></li>
</ul></div></li>
<li><a href="#collapse-86" data-toggle="collapse">函数<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-86"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/systemFunctions.html">系统（内置）函数</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/functions/udfs.html">自定义函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/modules.html">模块</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/catalogs.html">Catalogs</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sqlClient.html">SQL 客户端</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/config.html">配置</a></li>
<li><a href="#collapse-94" data-toggle="collapse">Performance Tuning<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-94"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/tuning/streaming_aggregation_optimization.html">流式聚合</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/sourceSinks.html">User-defined Sources & Sinks</a></li>
</ul></div></li>
<li><a href="#collapse-99" data-toggle="collapse">Python API<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-99"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/installation.html">环境安装</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table_api_tutorial.html">Table API 教程</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream_tutorial.html">DataStream API 教程</a></li>
<li><a href="#collapse-103" data-toggle="collapse">Table API用户指南<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-103"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/intro_to_table_api.html">Python Table API 简介</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/table_environment.html">TableEnvironment</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/operations.html">Operations</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/python_types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/built_in_functions.html">系统（内置）函数</a></li>
<li><a href="#collapse-109" data-toggle="collapse">自定义函数<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-109"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/udfs/python_udfs.html">普通自定义函数（UDF）</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/udfs/vectorized_python_udfs.html">向量化自定义函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/conversion_of_pandas.html">PyFlink Table 和 Pandas DataFrame 互转</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/dependency_management.html">依赖管理</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/sql.html">SQL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/catalogs.html">Catalogs</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/metrics.html">指标</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/table-api-users-guide/python_table_api_connectors.html">连接器</a></li>
</ul></div></li>
<li><a href="#collapse-120" data-toggle="collapse">DataStream API用户指南<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-120"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/data_types.html">数据类型</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/operators.html">算子</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/datastream-api-users-guide/dependency_management.html">依赖管理</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/python_config.html">配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/environment_variables.html">环境变量</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/python/faq.html">常见问题</a></li>
</ul></div></li>
<li><a href="#collapse-129" data-toggle="collapse">数据类型以及序列化<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-129"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/types_serialization.html">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/custom_serializers.html">自定义序列化器</a></li>
</ul></div></li>
<li><a href="#collapse-132" data-toggle="collapse">管理执行<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-132"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/execution_configuration.html">执行配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/packaging.html">程序打包</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/parallel.html">并行执行</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/execution_plans.html">执行计划</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/task_failure_recovery.html">Task 故障恢复</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/migration.html">API 迁移指南</a></li>
</ul></div></li>
<li><a href="#collapse-141" data-toggle="collapse"><i class="fa fa-book title maindish" aria-hidden="true"></i> Libraries<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-141"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/cep.html">事件处理 (CEP)</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/state_processor_api.html">State Processor API</a></li>
<li><a href="#collapse-144" data-toggle="collapse">图计算: Gelly<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-144"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_api.html">Graph API</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/iterative_graph_processing.html">Iterative Graph Processing</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/library_methods.html">Library Methods</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_algorithms.html">Graph Algorithms</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/graph_generators.html">Graph Generators</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/libs/gelly/bipartite_graph.html">Bipartite Graph</a></li>
</ul></div></li>
</ul></div></li>
<li><a href="#collapse-153" data-toggle="collapse"><i class="fa fa-random title maindish" aria-hidden="true"></i> Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-153"><ul>
<li><a href="#collapse-154" data-toggle="collapse">DataStream Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-154"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/guarantees.html">容错保证</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/kafka.html">Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/cassandra.html">Cassandra</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/kinesis.html">Kinesis</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/elasticsearch.html">Elasticsearch</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/file_sink.html">File Sink</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/streamfile_sink.html">Streaming File Sink</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/rabbitmq.html">RabbitMQ</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/nifi.html">NiFi</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/pubsub.html">Google Cloud PubSub</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/twitter.html">Twitter</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/connectors/jdbc.html">JDBC</a></li>
</ul></div></li>
<li><a href="#collapse-168" data-toggle="collapse">Table & SQL Connectors<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-168"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/">概览</a></li>
<li><a href="#collapse-169" data-toggle="collapse">Formats<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-169"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/csv.html">CSV</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/json.html">JSON</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/avro-confluent.html">Confluent Avro</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/avro.html">Avro</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/debezium.html">Debezium</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/canal.html">Canal</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/maxwell.html">Maxwell</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/parquet.html">Parquet</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/orc.html">Orc</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/formats/raw.html">Raw</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/kafka.html">Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/upsert-kafka.html">Upsert Kafka</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/kinesis.html">Kinesis</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/jdbc.html">JDBC</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/elasticsearch.html">Elasticsearch</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/filesystem.html">FileSystem</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hbase.html">HBase</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/datagen.html">DataGen</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/print.html">Print</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/blackhole.html">BlackHole</a></li>
<li><a href="#collapse-191" data-toggle="collapse">Hive<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-191"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_catalog.html">Hive Catalog</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_dialect.html">Hive 方言</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_read_write.html">Hive Read & Write</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/hive/hive_functions.html">Hive 函数</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/table/connectors/downloads.html">下载</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/dev/batch/connectors.html">DataSet Connectors</a></li>
</ul></div></li>
<li><a href="#collapse-201" data-toggle="collapse"class="active"><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment</a><div class="collapse in" id="collapse-201"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/">概览</a></li>
<li><a href="#collapse-202" data-toggle="collapse">Resource Providers<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-202"><ul>
<li><a href="#collapse-203" data-toggle="collapse">Standalone<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-203"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/local.html">本地集群</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/docker.html">Docker</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/standalone/kubernetes.html">Kubernetes</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/native_kubernetes.html">Native Kubernetes</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/yarn.html">YARN</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/resource-providers/mesos.html">Mesos</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/config.html">配置参数</a></li>
<li><a href="#collapse-213" data-toggle="collapse">内存配置<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-213"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup.html">配置 Flink 进程的内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup_tm.html">配置 TaskManager 内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_setup_jobmanager.html">配置 JobManager 内存</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_tuning.html">调优指南</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_trouble.html">常见问题</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/memory/mem_migration.html">升级指南</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/cli.html">Command-Line Interface</a></li>
<li><a href="#collapse-222" data-toggle="collapse">文件系统<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-222"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/common.html">通用配置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/s3.html">Amazon S3</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/oss.html">阿里云 OSS</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/azure.html">Azure Blob 存储</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/filesystems/plugins.html">Plugins</a></li>
</ul></div></li>
<li><a href="#collapse-229" data-toggle="collapse">High Availability (HA)<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-229"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/">概览</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/zookeeper_ha.html">ZooKeeper HA Services</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/ha/kubernetes_ha.html">Kubernetes HA Services</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/metric_reporters.html">Metric Reporters</a></li>
<li><a href="#collapse-234" data-toggle="collapse"class="active">Security</a><div class="collapse in" id="collapse-234"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/security/security-ssl.html" class="active">SSL 设置</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/security/security-kerberos.html">Kerberos</a></li>
</ul></div></li>
<li><a href="#collapse-238" data-toggle="collapse">REPLs<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-238"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/repls/python_shell.html">Python REPL</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/repls/scala_shell.html">Scala REPL</a></li>
</ul></div></li>
<li><a href="#collapse-242" data-toggle="collapse">Advanced<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-242"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/external_resources.html">扩展资源</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/historyserver.html">History Server</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/advanced/logging.html">日志</a></li>
</ul></div></li>
</ul></div></li>
<li><a href="#collapse-248" data-toggle="collapse"><i class="fa fa-cogs title maindish" aria-hidden="true"></i> Operations<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-248"><ul>
<li><a href="#collapse-249" data-toggle="collapse">状态与容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-249"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/checkpoints.html">Checkpoints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/savepoints.html">Savepoints</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/state_backends.html">State Backends</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/state/large_state_tuning.html">大状态与 Checkpoint 调优</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/metrics.html">指标</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/rest_api.html">REST API</a></li>
<li><a href="#collapse-257" data-toggle="collapse">Debugging<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-257"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/debugging_event_time.html">调试窗口与事件时间</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/debugging_classloading.html">调试类加载</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/debugging/application_profiling.html">应用程序分析</a></li>
</ul></div></li>
<li><a href="#collapse-262" data-toggle="collapse">Monitoring<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-262"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/monitoring/checkpoint_monitoring.html">监控 Checkpoint</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/monitoring/back_pressure.html">监控反压</a></li>
</ul></div></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/upgrading.html">升级应用程序和 Flink 版本</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/ops/production_ready.html">生产就绪情况核对清单</a></li>
</ul></div></li><hr class="section-break"></hr>
<li><a href="#collapse-269" data-toggle="collapse"><i class="fa fa-cogs title dessert" aria-hidden="true"></i> Flink 开发<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-269"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/flinkDev/ide_setup.html">导入 Flink 到 IDE 中</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/flinkDev/building.html">从源码构建 Flink</a></li>
</ul></div></li>
<li><a href="#collapse-273" data-toggle="collapse"><i class="fa fa-book title dessert" aria-hidden="true"></i> 内幕<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-273"><ul>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/job_scheduling.html">作业调度</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/task_lifecycle.html">Task 生命周期</a></li>
<li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/internals/filesystems.html">文件系统</a></li>
</ul></div></li>
  <li class="divider"></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/java"><i class="fa fa-external-link title" aria-hidden="true"></i> Javadocs</a></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/scala/index.html#org.apache.flink.api.scala.package"><i class="fa fa-external-link title" aria-hidden="true"></i> Scaladocs</a></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/api/python"><i class="fa fa-external-link title" aria-hidden="true"></i> Pythondocs</a></li>
  <li><a href="http://flink.apache.org"><i class="fa fa-external-link title" aria-hidden="true"></i> Project Page</a></li>
</ul>

<div class="sidenav-search-box">
  <form class="navbar-form" role="search" action="//ci.apache.org/projects/flink/flink-docs-release-1.12/search-results.html">
    <div class="form-group">
      <input type="text" class="form-control" size="16px" name="q" placeholder="Search">
    </div>
    <button type="submit" class="btn btn-default">Go</button>
  </form>
</div>

<div class="sidenav-versions">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">选择文档版本<span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.11">v1.11</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.10">v1.10</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.9">v1.9</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.8">v1.8</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.7">v1.7</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.6">v1.6</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.5">v1.5</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.4">v1.4</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.3">v1.3</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.2">v1.2</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.1">v1.1</a></li>
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.0">v1.0</a></li>
    </ul>
  </div>
</div>

<div class="sidenav-languages"><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/deployment/security/security-ssl.html">
      <button type="submit" class="btn btn-default">English</button>
    </a>
</div>

        </div>
        <div class="col-lg-9 content" id="contentcol">

          

<ol class="breadcrumb">
  
    <li><a href="//ci.apache.org/projects/flink/flink-docs-release-1.12/zh/deployment/"><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment</a></li>
  
    <li>Security</li>
  
    <li class="active">SSL 设置</li>
</ol>

<h1>SSL 设置</h1>




<ul id="markdown-toc">
  <li><a href="#internal-and-external-connectivity" id="markdown-toc-internal-and-external-connectivity">Internal and External Connectivity</a>    <ul>
      <li><a href="#internal-connectivity" id="markdown-toc-internal-connectivity">Internal Connectivity</a></li>
      <li><a href="#external--rest-connectivity" id="markdown-toc-external--rest-connectivity">External / REST Connectivity</a></li>
      <li><a href="#queryable-state" id="markdown-toc-queryable-state">Queryable State</a></li>
    </ul>
  </li>
  <li><a href="#configuring-ssl" id="markdown-toc-configuring-ssl">Configuring SSL</a>    <ul>
      <li><a href="#keystores-and-truststores" id="markdown-toc-keystores-and-truststores">Keystores and Truststores</a></li>
      <li><a href="#cipher-suites" id="markdown-toc-cipher-suites">Cipher suites</a></li>
      <li><a href="#complete-list-of-ssl-options" id="markdown-toc-complete-list-of-ssl-options">Complete List of SSL Options</a></li>
    </ul>
  </li>
  <li><a href="#creating-and-deploying-keystores-and-truststores" id="markdown-toc-creating-and-deploying-keystores-and-truststores">Creating and Deploying Keystores and Truststores</a></li>
  <li><a href="#example-ssl-setup-standalone-and-kubernetes" id="markdown-toc-example-ssl-setup-standalone-and-kubernetes">Example SSL Setup Standalone and Kubernetes</a></li>
  <li><a href="#tips-for-yarn--mesos-deployment" id="markdown-toc-tips-for-yarn--mesos-deployment">Tips for YARN / Mesos Deployment</a></li>
</ul>

<p>This page provides instructions on how to enable TLS/SSL authentication and encryption for network communication with and between Flink processes.
<strong>NOTE: TLS/SSL authentication is not enabled by default.</strong></p>

<h2 id="internal-and-external-connectivity">Internal and External Connectivity</h2>

<p>When securing network connections between machines processes through authentication and encryption, Apache Flink differentiates between <em>internal</em> and <em>external</em> connectivity.
<em>Internal Connectivity</em> refers to all connections made between Flink processes. These connections run Flink custom protocols. Users never connect directly to internal connectivity endpoints.
<em>External / REST Connectivity</em> endpoints refers to all connections made from the outside to Flink processes. This includes the web UI and REST commands to
start and control running Flink jobs/applications, including the communication of the Flink CLI with the JobManager / Dispatcher.</p>

<p>For more flexibility, security for internal and external connectivity can be enabled and configured separately.</p>

<div style="text-align: center">
  <img src="//ci.apache.org/projects/flink/flink-docs-release-1.12/fig/ssl_internal_external.svg" alt="Internal and External Connectivity" style="width:75%; padding-top:10px; padding-bottom:10px;" />
</div>

<h3 id="internal-connectivity">Internal Connectivity</h3>

<p>Internal connectivity includes:</p>

<ul>
  <li>Control messages: RPC between JobManager / TaskManager / Dispatcher / ResourceManager</li>
  <li>The data plane: The connections between TaskManagers to exchange data during shuffles, broadcasts, redistribution, etc.</li>
  <li>The Blob Service (distribution of libraries and other artifacts).</li>
</ul>

<p>All internal connections are SSL authenticated and encrypted. The connections use <strong>mutual authentication</strong>, meaning both server
and client side of each connection need to present the certificate to each other. The certificate acts effectively as a shared
secret when a dedicated CA is used to exclusively sign an internal cert.
The certificate for internal communication is not needed by any other party to interact with Flink, and can be simply
added to the container images, or attached to the YARN deployment.</p>

<ul>
  <li>
    <p>The easiest way to realize this setup is by generating a dedicated public/private key pair and self-signed certificate
for the Flink deployment. The key- and truststore are identical and contains only that key pair / certificate.
An example is <a href="#example-ssl-setup-standalone-and-kubernetes">shown below</a>.</p>
  </li>
  <li>
    <p>In an environment where operators are constrained to use firm-wide Internal CA (cannot generate self-signed certificates),
the recommendation is to still have a dedicated key pair / certificate for the Flink deployment, signed by that CA.
However, the TrustStore must then also contain the CA’s public certificate tho accept the deployment’s certificate
during the SSL handshake (requirement in JDK TrustStore implementation).</p>

    <p><strong>NOTE:</strong> Because of that, it is critical that you specify the fingerprint of the deployment certificate
(<code class="highlighter-rouge">security.ssl.internal.cert.fingerprint</code>), when it is not self-signed, to pin that certificate as the only trusted
certificate and prevent the TrustStore from trusting all certificates signed by that CA.</p>
  </li>
</ul>

<p><em>Note: Because internal connections are mutually authenticated with shared certificates, Flink can skip hostname verification.
This makes container-based setups easier.</em></p>

<h3 id="external--rest-connectivity">External / REST Connectivity</h3>

<p>All external connectivity is exposed via an HTTP/REST endpoint, used for example by the web UI and the CLI:</p>

<ul>
  <li>Communication with the <em>Dispatcher</em> to submit jobs (session clusters)</li>
  <li>Communication with the <em>JobMaster</em> to inspect and modify a running job/application</li>
</ul>

<p>The REST endpoints can be configured to require SSL connections. The server will, however, accept connections from any client by default, meaning the REST endpoint does not authenticate the client.</p>

<p>Simple mutual authentication may be enabled by configuration if authentication of connections to the REST endpoint is required, but we recommend to deploy a “side car proxy”:
Bind the REST endpoint to the loopback interface (or the pod-local interface in Kubernetes) and start a REST proxy that authenticates and forwards the requests to Flink.
Examples for proxies that Flink users have deployed are <a href="https://www.envoyproxy.io/">Envoy Proxy</a> or
<a href="http://nginx.org/en/docs/http/ngx_http_auth_request_module.html">NGINX with MOD_AUTH</a>.</p>

<p>The rationale behind delegating authentication to a proxy is that such proxies offer a wide variety of authentication options and thus better integration into existing infrastructures.</p>

<h3 id="queryable-state">Queryable State</h3>

<p>Connections to the queryable state endpoints is currently not authenticated or encrypted.</p>

<h2 id="configuring-ssl">Configuring SSL</h2>

<p>SSL can be enabled separately for <em>internal</em> and <em>external</em> connectivity:</p>

<ul>
  <li><strong>security.ssl.internal.enabled</strong>: Enable SSL for all <em>internal</em> connections.</li>
  <li><strong>security.ssl.rest.enabled</strong>: Enable SSL for <em>REST / external</em> connections.</li>
</ul>

<p><em>Note: For backwards compatibility, the <strong>security.ssl.enabled</strong> option still exists and enables SSL for both internal and REST endpoints.</em></p>

<p>For internal connectivity, you can optionally disable security for different connection types separately.
When <code class="highlighter-rouge">security.ssl.internal.enabled</code> is set to <code class="highlighter-rouge">true</code>, you can set the following parameters to <code class="highlighter-rouge">false</code> to disable SSL for that particular connection type:</p>

<ul>
  <li><code class="highlighter-rouge">taskmanager.data.ssl.enabled</code>: Data communication between TaskManagers</li>
  <li><code class="highlighter-rouge">blob.service.ssl.enabled</code>: Transport of BLOBs from JobManager to TaskManager</li>
  <li><code class="highlighter-rouge">akka.ssl.enabled</code>: Akka-based RPC connections between JobManager / TaskManager / ResourceManager</li>
</ul>

<h3 id="keystores-and-truststores">Keystores and Truststores</h3>

<p>The SSL configuration requires to configure a <strong>keystore</strong> and a <strong>truststore</strong>. The <em>keystore</em> contains the public certificate
(public key) and the private key, while the truststore contains the trusted certificates or the trusted authorities. Both stores
need to be set up such that the truststore trusts the keystore’s certificate.</p>

<h4 id="internal-connectivity-1">Internal Connectivity</h4>

<p>Because internal communication is mutually authenticated between server and client side, keystore and truststore typically refer to a dedicated
certificate that acts as a shared secret. In such a setup, the certificate can use wild card hostnames or addresses.
WHen using self-signed certificates, it is even possible to use the same file as keystore and truststore.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.internal.keystore</span><span class="pi">:</span> <span class="s">/path/to/file.keystore</span>
<span class="s">security.ssl.internal.keystore-password</span><span class="pi">:</span> <span class="s">keystore_password</span>
<span class="s">security.ssl.internal.key-password</span><span class="pi">:</span> <span class="s">key_password</span>
<span class="s">security.ssl.internal.truststore</span><span class="pi">:</span> <span class="s">/path/to/file.truststore</span>
<span class="s">security.ssl.internal.truststore-password</span><span class="pi">:</span> <span class="s">truststore_password</span></code></pre></figure>

<p>When using a certificate that is not self-signed, but signed by a CA, you need to use certificate pinning to allow only a 
a specific certificate to be trusted when establishing the connectivity.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.internal.cert.fingerprint</span><span class="pi">:</span> <span class="s">00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00</span></code></pre></figure>

<h4 id="rest-endpoints-external-connectivity">REST Endpoints (external connectivity)</h4>

<p>For REST endpoints, by default the keystore is used by the server endpoint, and the truststore is used by the REST clients (including the CLI client)
to accept the server’s certificate. In the case where the REST keystore has a self-signed certificate, the truststore must trust that certificate directly.
If the REST endpoint uses a certificate that is signed through a proper certification hierarchy, the roots of that hierarchy should
be in the trust store.</p>

<p>If mutual authentication is enabled, the keystore and the truststore are used by both, the server endpoint and the REST clients as with internal connectivity.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.rest.keystore</span><span class="pi">:</span> <span class="s">/path/to/file.keystore</span>
<span class="s">security.ssl.rest.keystore-password</span><span class="pi">:</span> <span class="s">keystore_password</span>
<span class="s">security.ssl.rest.key-password</span><span class="pi">:</span> <span class="s">key_password</span>
<span class="s">security.ssl.rest.truststore</span><span class="pi">:</span> <span class="s">/path/to/file.truststore</span>
<span class="s">security.ssl.rest.truststore-password</span><span class="pi">:</span> <span class="s">truststore_password</span>
<span class="s">security.ssl.rest.authentication-enabled</span><span class="pi">:</span> <span class="no">false</span></code></pre></figure>

<h3 id="cipher-suites">Cipher suites</h3>

<p><span class="label label-danger">IMPORTANT</span>
The <a href="https://tools.ietf.org/html/rfc7525">IETF RFC 7525</a> recommends to use a specific set of cipher suites for strong security.
Because these cipher suites were not available on many setups out of the box, Flink’s default value is set to a slightly
weaker but more compatible cipher suite.
We recommend that SSL setups update to the stronger cipher suites, if possible, by adding the below entry to the Flink configuration:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.algorithms</span><span class="pi">:</span> <span class="s">TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span></code></pre></figure>

<p>If these cipher suites are not supported on your setup, you will see that Flink processes will not be able to connect to each other.</p>

<h3 id="complete-list-of-ssl-options">Complete List of SSL Options</h3>

<table class="table table-bordered">
    <thead>
        <tr>
            <th class="text-left" style="width: 20%">Key</th>
            <th class="text-left" style="width: 15%">Default</th>
            <th class="text-left" style="width: 10%">Type</th>
            <th class="text-left" style="width: 55%">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><h5>security.context.factory.classes</h5></td>
            <td style="word-wrap: break-word;">"org.apache.flink.runtime.security.contexts.HadoopSecurityContextFactory";<wbr />"org.apache.flink.runtime.security.contexts.NoOpSecurityContextFactory"</td>
            <td>List&lt;String&gt;</td>
            <td>List of factories that should be used to instantiate a security context. If multiple are configured, Flink will use the first compatible factory. You should have a NoOpSecurityContextFactory in this list as a fallback.</td>
        </tr>
        <tr>
            <td><h5>security.kerberos.krb5-conf.path</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>Specify the local location of the krb5.conf file. If defined, this conf would be mounted on the JobManager and TaskManager containers/pods for Kubernetes, Yarn and Mesos. Note: The KDC defined needs to be visible from inside the containers.</td>
        </tr>
        <tr>
            <td><h5>security.kerberos.login.contexts</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>A comma-separated list of login contexts to provide the Kerberos credentials to (for example, `Client,KafkaClient` to use the credentials for ZooKeeper authentication and for Kafka authentication)</td>
        </tr>
        <tr>
            <td><h5>security.kerberos.login.keytab</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>Absolute path to a Kerberos keytab file that contains the user credentials.</td>
        </tr>
        <tr>
            <td><h5>security.kerberos.login.principal</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>Kerberos principal name associated with the keytab.</td>
        </tr>
        <tr>
            <td><h5>security.kerberos.login.use-ticket-cache</h5></td>
            <td style="word-wrap: break-word;">true</td>
            <td>Boolean</td>
            <td>Indicates whether to read from your Kerberos ticket cache.</td>
        </tr>
        <tr>
            <td><h5>security.module.factory.classes</h5></td>
            <td style="word-wrap: break-word;">"org.apache.flink.runtime.security.modules.HadoopModuleFactory";<wbr />"org.apache.flink.runtime.security.modules.JaasModuleFactory";<wbr />"org.apache.flink.runtime.security.modules.ZookeeperModuleFactory"</td>
            <td>List&lt;String&gt;</td>
            <td>List of factories that should be used to instantiate security modules. All listed modules will be installed. Keep in mind that the configured security context might rely on some modules being present.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.algorithms</h5></td>
            <td style="word-wrap: break-word;">"TLS_RSA_WITH_AES_128_CBC_SHA"</td>
            <td>String</td>
            <td>The comma separated list of standard SSL algorithms to be supported. Read more <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#ciphersuites">here</a></td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.cert.fingerprint</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The sha1 fingerprint of the internal certificate. This further protects the internal communication to present the exact certificate used by Flink.This is necessary where one cannot use private CA(self signed) or there is internal firm wide CA is required</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.close-notify-flush-timeout</h5></td>
            <td style="word-wrap: break-word;">-1</td>
            <td>Integer</td>
            <td>The timeout (in ms) for flushing the `close_notify` that was triggered by closing a channel. If the `close_notify` was not flushed in the given timeout the channel will be closed forcibly. (-1 = use system default)</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.enabled</h5></td>
            <td style="word-wrap: break-word;">false</td>
            <td>Boolean</td>
            <td>Turns on SSL for internal network communication. Optionally, specific components may override this through their own settings (rpc, data transport, REST, etc).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.handshake-timeout</h5></td>
            <td style="word-wrap: break-word;">-1</td>
            <td>Integer</td>
            <td>The timeout (in ms) during SSL handshake. (-1 = use system default)</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.key-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The secret to decrypt the key in the keystore for Flink's internal endpoints (rpc, data transport, blob server).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.keystore</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The Java keystore file with SSL Key and Certificate, to be used Flink's internal endpoints (rpc, data transport, blob server).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.keystore-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The secret to decrypt the keystore file for Flink's for Flink's internal endpoints (rpc, data transport, blob server).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.session-cache-size</h5></td>
            <td style="word-wrap: break-word;">-1</td>
            <td>Integer</td>
            <td>The size of the cache used for storing SSL session objects. According to https://github.com/netty/netty/issues/832, you should always set this to an appropriate number to not run into a bug with stalling IO threads during garbage collection. (-1 = use system default).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.session-timeout</h5></td>
            <td style="word-wrap: break-word;">-1</td>
            <td>Integer</td>
            <td>The timeout (in ms) for the cached SSL session objects. (-1 = use system default)</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.truststore</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The truststore file containing the public CA certificates to verify the peer for Flink's internal endpoints (rpc, data transport, blob server).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.internal.truststore-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The password to decrypt the truststore for Flink's internal endpoints (rpc, data transport, blob server).</td>
        </tr>
        <tr>
            <td><h5>security.ssl.protocol</h5></td>
            <td style="word-wrap: break-word;">"TLSv1.2"</td>
            <td>String</td>
            <td>The SSL protocol version to be supported for the ssl transport. Note that it doesn’t support comma separated list.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.provider</h5></td>
            <td style="word-wrap: break-word;">"JDK"</td>
            <td>String</td>
            <td>The SSL engine provider to use for the ssl transport:<ul><li><span><code class="highlighter-rouge">JDK</code></span>: default Java-based SSL engine</li><li><span><code class="highlighter-rouge">OPENSSL</code></span>: openSSL-based SSL engine using system libraries</li></ul><span><code class="highlighter-rouge">OPENSSL</code></span> is based on <a href="http://netty.io/wiki/forked-tomcat-native.html#wiki-h2-4">netty-tcnative</a> and comes in two flavours:<ul><li>dynamically linked: This will use your system's openSSL libraries (if compatible) and requires <span><code class="highlighter-rouge">opt/flink-shaded-netty-tcnative-dynamic-*.jar</code></span> to be copied to <span><code class="highlighter-rouge">lib/</code></span></li><li>statically linked: Due to potential licensing issues with openSSL (see <a href="https://issues.apache.org/jira/browse/LEGAL-393">LEGAL-393</a>), we cannot ship pre-built libraries. However, you can build the required library yourself and put it into <span><code class="highlighter-rouge">lib/</code></span>:<br /><span><code class="highlighter-rouge">git clone https://github.com/apache/flink-shaded.git &amp;amp;&amp;amp; cd flink-shaded &amp;amp;&amp;amp; mvn clean package -Pinclude-netty-tcnative-static -pl flink-shaded-netty-tcnative-static</code></span></li></ul></td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.authentication-enabled</h5></td>
            <td style="word-wrap: break-word;">false</td>
            <td>Boolean</td>
            <td>Turns on mutual SSL authentication for external communication via the REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.cert.fingerprint</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The sha1 fingerprint of the rest certificate. This further protects the rest REST endpoints to present certificate which is only used by proxy serverThis is necessary where once uses public CA or internal firm wide CA</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.enabled</h5></td>
            <td style="word-wrap: break-word;">false</td>
            <td>Boolean</td>
            <td>Turns on SSL for external communication via the REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.key-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The secret to decrypt the key in the keystore for Flink's external REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.keystore</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The Java keystore file with SSL Key and Certificate, to be used Flink's external REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.keystore-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The secret to decrypt the keystore file for Flink's for Flink's external REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.truststore</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The truststore file containing the public CA certificates to verify the peer for Flink's external REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.rest.truststore-password</h5></td>
            <td style="word-wrap: break-word;">(none)</td>
            <td>String</td>
            <td>The password to decrypt the truststore for Flink's external REST endpoints.</td>
        </tr>
        <tr>
            <td><h5>security.ssl.verify-hostname</h5></td>
            <td style="word-wrap: break-word;">true</td>
            <td>Boolean</td>
            <td>Flag to enable peer’s hostname verification during ssl handshake.</td>
        </tr>
        <tr>
            <td><h5>zookeeper.sasl.disable</h5></td>
            <td style="word-wrap: break-word;">false</td>
            <td>Boolean</td>
            <td></td>
        </tr>
        <tr>
            <td><h5>zookeeper.sasl.login-context-name</h5></td>
            <td style="word-wrap: break-word;">"Client"</td>
            <td>String</td>
            <td></td>
        </tr>
        <tr>
            <td><h5>zookeeper.sasl.service-name</h5></td>
            <td style="word-wrap: break-word;">"zookeeper"</td>
            <td>String</td>
            <td></td>
        </tr>
    </tbody>
</table>

<h2 id="creating-and-deploying-keystores-and-truststores">Creating and Deploying Keystores and Truststores</h2>

<p>Keys, Certificates, and the Keystores and Truststores can be generated using the <a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">keytool utility</a>.
You need to have an appropriate Java Keystore and Truststore accessible from each node in the Flink cluster.</p>

<ul>
  <li>For standalone setups, this means copying the files to each node, or adding them to a shared mounted directory.</li>
  <li>For container based setups, add the keystore and truststore files to the container images.</li>
  <li>For Yarn/Mesos setups, the cluster deployment phase can automatically distribute the keystore and truststore files.</li>
</ul>

<p>For the externally facing REST endpoint, the common name or subject alternative names in the certificate should match the node’s hostname and IP address.</p>

<h2 id="example-ssl-setup-standalone-and-kubernetes">Example SSL Setup Standalone and Kubernetes</h2>

<p><strong>Internal Connectivity</strong></p>

<p>Execute the following keytool commands to create a key pair in a keystore:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">keytool <span class="nt">-genkeypair</span> <span class="nt">-alias</span> flink.internal <span class="nt">-keystore</span> internal.keystore <span class="nt">-dname</span> <span class="s2">"CN=flink.internal"</span> <span class="nt">-storepass</span> internal_store_password <span class="nt">-keyalg</span> RSA <span class="nt">-keysize</span> 4096 <span class="nt">-storetype</span> PKCS12</code></pre></figure>

<p>The single key/certificate in the keystore is used the same way by the server and client endpoints (mutual authentication).
The key pair acts as the shared secret for internal security, and we can directly use it as keystore and truststore.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.internal.enabled</span><span class="pi">:</span> <span class="no">true</span>
<span class="s">security.ssl.internal.keystore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/internal.keystore</span>
<span class="s">security.ssl.internal.truststore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/internal.keystore</span>
<span class="s">security.ssl.internal.keystore-password</span><span class="pi">:</span> <span class="s">internal_store_password</span>
<span class="s">security.ssl.internal.truststore-password</span><span class="pi">:</span> <span class="s">internal_store_password</span>
<span class="s">security.ssl.internal.key-password</span><span class="pi">:</span> <span class="s">internal_store_password</span></code></pre></figure>

<p><strong>REST Endpoint</strong></p>

<p>The REST endpoint may receive connections from external processes, including tools that are not part of Flink (for example curl request to the REST API).
Setting up a proper certificate that is signed though a CA hierarchy may make sense for the REST endpoint.</p>

<p>However, as mentioned above, the REST endpoint does not authenticate clients and thus typically needs to be secured via a proxy anyways.</p>

<p><strong>REST Endpoint (simple self signed certificate)</strong></p>

<p>This example shows how to create a simple keystore / truststore pair. The truststore does not contain the primary key and can
be shared with other applications. In this example, <em>myhost.company.org / ip:10.0.2.15</em> is the node (or service) for the JobManager.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">keytool <span class="nt">-genkeypair</span> <span class="nt">-alias</span> flink.rest <span class="nt">-keystore</span> rest.keystore <span class="nt">-dname</span> <span class="s2">"CN=myhost.company.org"</span> <span class="nt">-ext</span> <span class="s2">"SAN=dns:myhost.company.org,ip:10.0.2.15"</span> <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-keyalg</span> RSA <span class="nt">-keysize</span> 4096 <span class="nt">-storetype</span> PKCS12

keytool <span class="nt">-exportcert</span> <span class="nt">-keystore</span> rest.keystore <span class="nt">-alias</span> flink.rest <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-file</span> flink.cer

keytool <span class="nt">-importcert</span> <span class="nt">-keystore</span> rest.truststore <span class="nt">-alias</span> flink.rest <span class="nt">-storepass</span> rest_truststore_password <span class="nt">-file</span> flink.cer <span class="nt">-noprompt</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.rest.enabled</span><span class="pi">:</span> <span class="no">true</span>
<span class="s">security.ssl.rest.keystore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/rest.keystore</span>
<span class="s">security.ssl.rest.truststore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/rest.truststore</span>
<span class="s">security.ssl.rest.keystore-password</span><span class="pi">:</span> <span class="s">rest_keystore_password</span>
<span class="s">security.ssl.rest.truststore-password</span><span class="pi">:</span> <span class="s">rest_truststore_password</span>
<span class="s">security.ssl.rest.key-password</span><span class="pi">:</span> <span class="s">rest_keystore_password</span></code></pre></figure>

<p><strong>REST Endpoint (with a self signed CA)</strong></p>

<p>Execute the following keytool commands to create a truststore with a self signed CA.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">keytool <span class="nt">-genkeypair</span> <span class="nt">-alias</span> ca <span class="nt">-keystore</span> ca.keystore <span class="nt">-dname</span> <span class="s2">"CN=Sample CA"</span> <span class="nt">-storepass</span> ca_keystore_password <span class="nt">-keyalg</span> RSA <span class="nt">-keysize</span> 4096 <span class="nt">-ext</span> <span class="s2">"bc=ca:true"</span> <span class="nt">-storetype</span> PKCS12

keytool <span class="nt">-exportcert</span> <span class="nt">-keystore</span> ca.keystore <span class="nt">-alias</span> ca <span class="nt">-storepass</span> ca_keystore_password <span class="nt">-file</span> ca.cer

keytool <span class="nt">-importcert</span> <span class="nt">-keystore</span> ca.truststore <span class="nt">-alias</span> ca <span class="nt">-storepass</span> ca_truststore_password <span class="nt">-file</span> ca.cer <span class="nt">-noprompt</span></code></pre></figure>

<p>Now create a keystore for the REST endpoint with a certificate signed by the above CA.
Let <em>flink.company.org / ip:10.0.2.15</em> be the hostname of the JobManager.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">keytool <span class="nt">-genkeypair</span> <span class="nt">-alias</span> flink.rest <span class="nt">-keystore</span> rest.signed.keystore <span class="nt">-dname</span> <span class="s2">"CN=flink.company.org"</span> <span class="nt">-ext</span> <span class="s2">"SAN=dns:flink.company.org"</span> <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-keyalg</span> RSA <span class="nt">-keysize</span> 4096 <span class="nt">-storetype</span> PKCS12

keytool <span class="nt">-certreq</span> <span class="nt">-alias</span> flink.rest <span class="nt">-keystore</span> rest.signed.keystore <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-file</span> rest.csr

keytool <span class="nt">-gencert</span> <span class="nt">-alias</span> ca <span class="nt">-keystore</span> ca.keystore <span class="nt">-storepass</span> ca_keystore_password <span class="nt">-ext</span> <span class="s2">"SAN=dns:flink.company.org,ip:10.0.2.15"</span> <span class="nt">-infile</span> rest.csr <span class="nt">-outfile</span> rest.cer

keytool <span class="nt">-importcert</span> <span class="nt">-keystore</span> rest.signed.keystore <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-file</span> ca.cer <span class="nt">-alias</span> ca <span class="nt">-noprompt</span>

keytool <span class="nt">-importcert</span> <span class="nt">-keystore</span> rest.signed.keystore <span class="nt">-storepass</span> rest_keystore_password <span class="nt">-file</span> rest.cer <span class="nt">-alias</span> flink.rest <span class="nt">-noprompt</span></code></pre></figure>

<p>Now add the following configuration to your <code class="highlighter-rouge">flink-conf.yaml</code>:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">security.ssl.rest.enabled</span><span class="pi">:</span> <span class="no">true</span>
<span class="s">security.ssl.rest.keystore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/rest.signed.keystore</span>
<span class="s">security.ssl.rest.truststore</span><span class="pi">:</span> <span class="s">/path/to/flink/conf/ca.truststore</span>
<span class="s">security.ssl.rest.keystore-password</span><span class="pi">:</span> <span class="s">rest_keystore_password</span>
<span class="s">security.ssl.rest.key-password</span><span class="pi">:</span> <span class="s">rest_keystore_password</span>
<span class="s">security.ssl.rest.truststore-password</span><span class="pi">:</span> <span class="s">ca_truststore_password</span></code></pre></figure>

<p><strong>Tips to query REST Endpoint with curl utility</strong></p>

<p>You can convert the keystore into the <code class="highlighter-rouge">PEM</code> format using <code class="highlighter-rouge">openssl</code>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">openssl pkcs12 <span class="nt">-passin</span> pass:rest_keystore_password <span class="nt">-in</span> rest.keystore <span class="nt">-out</span> rest.pem <span class="nt">-nodes</span></code></pre></figure>

<p>Then you can query REST Endpoint with <code class="highlighter-rouge">curl</code>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl <span class="nt">--cacert</span> rest.pem flink_url</code></pre></figure>

<p>If mutual SSL is enabled:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl <span class="nt">--cacert</span> rest.pem <span class="nt">--cert</span> rest.pem flink_url</code></pre></figure>

<h2 id="tips-for-yarn--mesos-deployment">Tips for YARN / Mesos Deployment</h2>

<p>For YARN and Mesos, you can use the tools of Yarn and Mesos to help:</p>

<ul>
  <li>
    <p>Configuring security for internal communication is exactly the same as in the example above.</p>
  </li>
  <li>
    <p>To secure the REST endpoint, you need to issue the REST endpoint’s certificate such that it is valid for all hosts
that the JobManager may get deployed to. This can be done with a wild card DNS name, or by adding multiple DNS names.</p>
  </li>
  <li>
    <p>The easiest way to deploy keystores and truststore is by YARN client’s <em>ship files</em> option (<code class="highlighter-rouge">-yt</code>).
Copy the keystore and truststore files into a local directory (say <code class="highlighter-rouge">deploy-keys/</code>) and start the YARN session as
follows: <code class="highlighter-rouge">flink run -m yarn-cluster -yt deploy-keys/ flinkapp.jar</code></p>
  </li>
  <li>
    <p>When deployed using YARN, Flink’s web dashboard is accessible through YARN proxy’s Tracking URL.
To ensure that the YARN proxy is able to access Flink’s HTTPS URL, you need to configure YARN proxy to accept Flink’s SSL certificates.
For that, add the custom CA certificate into Java’s default truststore on the YARN Proxy node.</p>
  </li>
</ul>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>



<div class="footer">
  <a href="https://cwiki.apache.org/confluence/display/FLINK/Flink+Translation+Specifications" target="_blank">
    
      想参与贡献翻译？
    
  </a>
</div>


        </div>
      </div>
    </div><!-- /.container -->

    <!-- default code tab -->
    <script>var defaultCodeTab = "";</script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script>
    <script src="//ci.apache.org/projects/flink/flink-docs-release-1.12/page/js/flink.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52545728-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Disqus -->
    
  </body>
</html>
